# 点到直线距离 — 思路题解

## 问题概述

- 给定一点 \(P(a,b)\) 与一条直线（由两点 \(A(s_x,s_y), B(t_x,t_y)\) 定义），计算点到直线的最短距离。
- 输入为六个整数：`a b sx sy tx ty`。
- 输出为该距离，保留两位小数。

## 核心思路

- 使用向量叉积面积公式：对于向量 \(\vec{AB}=(dx,dy)\) 与 \(\vec{AP}\)，三角形 \(\triangle ABP\) 的面积为：
  $$ \text{Area} = \frac{|\vec{AB} \times \vec{AP}|}{2} $$
- 点到直线的距离 \(d\) 满足：
  $$ d = \frac{2\cdot \text{Area}}{|\vec{AB}|} = \frac{|\vec{AB} \times \vec{AP}|}{|\vec{AB}|} $$
- 在二维中，叉积的标量值：
  $$ \vec{AB} \times \vec{AP} = dx \cdot (A_y - P_y) - dy \cdot (A_x - P_x) $$
- 线段长度（向量模长）：
  $$ |\vec{AB}| = \sqrt{dx^2 + dy^2} $$

综上：
$$ d = \frac{\left| dx \cdot (A_y - P_y) - dy \cdot (A_x - P_x) \right|}{\sqrt{dx^2 + dy^2}} $$

## 代码实现要点

- 结构体 `point` 和 `line` 封装点与直线（两点表示）。
- 函数 `getDistance(point P, line L)`：
  - 计算 \(dx, dy\)
  - 计算叉积的绝对值 `crossProduct`
  - 计算向量模长 `lineLength`
  - 返回 `crossProduct / lineLength`
- 输出格式化为两位小数。

## 边界与正确性

- 垂直、水平直线均适用（不依赖斜率）。
- 若 \(A=B\)（退化直线），此时分母为 0，会产生除零风险。题目通常保证输入有效；若需健壮性，可在代码中加入判断：
  - 若 `lineLength == 0`，返回点到点距离 `hypot(P.x - A.x, P.y - A.y)`。

## 时间与空间复杂度

- **时间**：\(O(1)\)
- **空间**：\(O(1)\)

## 示例

输入：

```
a b sx sy tx ty
```

如：

```
3 4 0 0 6 0
```

含义：点 \(P(3,4)\)，直线为 \(A(0,0)\) 到 \(B(6,0)\)。

- \(dx=6, dy=0\)
- 叉积 \(|6\cdot(0-4) - 0\cdot(0-3)| = 24\)
- \(|\vec{AB}| = 6\)
- 距离 \(d = 24/6 = 4\)
  输出：

```
4.00
```

## 可选的健壮性增强（示例代码片段）

```cpp
double getDistance(point P, line L) {
    double dx = L.point_B.x - L.point_A.x;
    double dy = L.point_B.y - L.point_A.y;
    double lineLength = sqrt(dx * dx + dy * dy);
    if (lineLength == 0) {
        // A 与 B 重合：退化为点到点距离
        return hypot(P.x - L.point_A.x, P.y - L.point_A.y);
    }
    double crossProduct = fabs(dx * (L.point_A.y - P.y) - (L.point_A.x - P.x) * dy);
    return crossProduct / lineLength;
}
```

## 总结

- 使用叉积与向量长度的经典公式，不依赖斜率，稳健且简单。
- 注意退化情形以避免除零。
